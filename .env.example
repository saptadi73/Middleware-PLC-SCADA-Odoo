# ========================================================================================
# FastAPI SCADA-Odoo Integration - Environment Configuration
# ========================================================================================
# Konfigurasi untuk scheduler, database, PLC, dan Odoo integration
# Copy ke .env dan sesuaikan dengan environment Anda
# ========================================================================================

# ========================================================================================
# DATABASE CONFIGURATION
# ========================================================================================
DATABASE_URL=postgresql+psycopg2://user:password@localhost:5432/scada_odoo_db

# ========================================================================================
# SCHEDULER: MASTER CONTROL
# ========================================================================================
# Master switch untuk entire scheduler system
# Jika false, semua scheduler tasks akan disabled
ENABLE_AUTO_SYNC=true

# ========================================================================================
# SCHEDULER: INDIVIDUAL TASK CONTROL
# ========================================================================================
# Task 1: Auto-sync MO dari Odoo (fetch MO ketika mo_batch kosong)
ENABLE_TASK_1_AUTO_SYNC=true

# Task 2: PLC Read Sync - Real-time data reading dari PLC
ENABLE_TASK_2_PLC_READ=true

# Task 3: Process Completed Batches - Push ke Odoo setelah selesai
ENABLE_TASK_3_PROCESS_COMPLETED=true

# Task 4: Health Monitoring - Monitor batch health dan anomali
ENABLE_TASK_4_HEALTH_MONITOR=true

# Task 5: Equipment Failure Monitoring - Read failure dari PLC
ENABLE_TASK_5_EQUIPMENT_FAILURE=true

# Task 6: System Log Cleanup - Cleanup log lama otomatis
ENABLE_TASK_6_LOG_CLEANUP=true

# ========================================================================================
# SCHEDULER: INTERVAL CONFIGURATION (dalam menit)
# ========================================================================================
# Task 1: Auto-sync MO interval (default: 60 menit)
SYNC_INTERVAL_MINUTES=60

# Task 2: PLC read sync interval (default: 5 menit)
PLC_READ_INTERVAL_MINUTES=5

# Task 3: Process completed batches interval (default: 3 menit)
PROCESS_COMPLETED_INTERVAL_MINUTES=3

# Task 4: Health monitor interval (default: 10 menit)
HEALTH_MONITOR_INTERVAL_MINUTES=10

# Task 5: Equipment failure monitor interval (default: 5 menit)
EQUIPMENT_FAILURE_INTERVAL_MINUTES=5

# Task 6: System log cleanup interval (default: 1440 menit = 24 jam)
LOG_CLEANUP_INTERVAL_MINUTES=1440

# Retention log (hapus log lebih lama dari N hari)
LOG_RETENTION_DAYS=30

# Safety: tetap simpan N log terbaru meski lebih lama dari retention
LOG_CLEANUP_KEEP_LAST=1000

# Global batch sync limit (jumlah batch per polling cycle)
SYNC_BATCH_LIMIT=10

# ========================================================================================
# ODOO CONFIGURATION
# ========================================================================================
ODOO_URL=http://localhost:8069
ODOO_DB=odoo_db
ODOO_USERNAME=admin
ODOO_PASSWORD=admin_password

# ========================================================================================
# PLC CONFIGURATION (OMRON FINS Protocol)
# ========================================================================================
PLC_HOST=192.168.1.100
PLC_PORT=9600
PLC_UNIT_ID=0
PLC_TIMEOUT=10
PLC_RETRY_ATTEMPTS=3

# ========================================================================================
# APPLICATION CONFIGURATION
# ========================================================================================
APP_NAME=fastapi-scada-odoo
ENVIRONMENT=development
LOG_LEVEL=info
TIMEZONE=Asia/Jakarta

# ========================================================================================
# QUICK PRESETS (UNCOMMENT SALAH SATU)
# ========================================================================================

# DEVELOPMENT PRESET - Fast polling for testing
# SYNC_INTERVAL_MINUTES=1
# PLC_READ_INTERVAL_MINUTES=1
# PROCESS_COMPLETED_INTERVAL_MINUTES=1
# HEALTH_MONITOR_INTERVAL_MINUTES=5

# PRODUCTION PRESET - Conservative intervals
# SYNC_INTERVAL_MINUTES=60
# PLC_READ_INTERVAL_MINUTES=5
# PROCESS_COMPLETED_INTERVAL_MINUTES=3
# HEALTH_MONITOR_INTERVAL_MINUTES=10

# MINIMAL PRESET - Hanya core tasks
# ENABLE_TASK_4_HEALTH_MONITOR=false
# SYNC_INTERVAL_MINUTES=30
# PLC_READ_INTERVAL_MINUTES=3
# PROCESS_COMPLETED_INTERVAL_MINUTES=3

# STRICT LOG CLEANUP PRESET
# ENABLE_TASK_6_LOG_CLEANUP=true
# LOG_CLEANUP_INTERVAL_MINUTES=30
# LOG_RETENTION_DAYS=7
# LOG_CLEANUP_KEEP_LAST=2000
